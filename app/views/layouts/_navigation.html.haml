.navbar-fixed
  %nav
    .nav-wrapper
      %a#site-name.brand-logo{href: root_path}
        &nbsp;
        = site_name.split[0]
        %span>= site_name.split[1]

      %a.button-collapse.jsButtonCollapse{href: '#', 'data-activates': 'menu-mobile-side'}
        = material_icon.menu
      %ul.right.hide-on-med-and-down

        -#
        -# Languages
        -#

          %li
            %a.dropdown-button{"data-activates": "dropdown1", href: "#!", 'data-beloworigin': "true"}
              = APP_CONFIG[:languages][I18n.locale]
              = material_icon.arrow_drop_down.css_class(:right)
          %ul#dropdown1.dropdown-content
            - APP_CONFIG[:languages].except(I18n.locale).each do |locale, language|
              %li= link_to language, current_url_in_locale(locale)

        -#
        -# Note links
        -#

        - if user_signed_in?
          %li= link_to_hash_if_current t("note.new"), new_note_path
        %li= link_to_hash_if_current Note.model_name.human(count: 2), notes_path

        -#
        -# Search
        -#

        - if user_signed_in?
          -#%li.search
            %label{for: :search}= mi.search
            %input.browser-default{id: :search, type: "text", value: params[:search]}

        -#
        -# Account menu
        -#

        - if user_signed_in?
          %li
            %a.dropdown-button{"data-activates": "dropdown2", href: "#!", 'data-beloworigin': "true"}
              = current_user
              = material_icon.arrow_drop_down.css_class(:right)
          %ul#dropdown2.dropdown-content
            %li= link_to_hash_if_current t("account.update"), edit_user_registration_path
            %li= link_to_hash_if_current t("app.sign_out"), destroy_user_session_path, method: :delete
        - else
          %li= link_to_hash_if_current t("app.sign_in"), new_user_session_path
          %li= link_to_hash_if_current t("devise.registrations.new.sign_up"), new_user_registration_path, class: 'btn'

-#
-# Side nav
-#

%ul#menu-mobile-side.side-nav

  -#
  -# Languages
  -#

    %li.no-padding
    %ul.collapsible.collapsible-accordion
      %li
        %a.collapsible-header
          = APP_CONFIG[:languages][I18n.locale]
          = material_icon.arrow_drop_down
        .collapsible-body
          %ul
            - APP_CONFIG[:languages].except(I18n.locale).each do |locale, language|
              %li= link_to language, current_url_in_locale(locale)

  -#
  -# Sign in/up
  -#

  - unless user_signed_in?
    %li= link_to_hash_if_current t("app.sign_in"), new_user_session_path
    %li= link_to_hash_if_current t("devise.registrations.new.sign_up"), new_user_registration_path, class: 'btn'
    %li.divider

  -#
  -# Note links
  -#

  - if user_signed_in?
    %li= link_to_hash_if_current t("note.new"), new_note_path
  %li= link_to_hash_if_current Note.model_name.human(count: 2), notes_path

  -#
  -# Search
  -#

  - if user_signed_in?
    -#%li.input-field.search
      = mi.search.css_class('prefix')
      %input{type: "text", value: params[:search]}

  -#
  -# Account menu
  -#

  - if user_signed_in?
    %li.no-padding
    %ul.collapsible.collapsible-accordion
      %li
        %a.collapsible-header
          = current_user
          = material_icon.arrow_drop_down
        .collapsible-body
          %ul
            %li= link_to_hash_if_current t("account.update"), edit_user_registration_path
            %li= link_to_hash_if_current t("app.sign_out"), destroy_user_session_path, method: :delete
